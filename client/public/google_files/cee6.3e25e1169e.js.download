__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.airdogCount=function(t,o=1,u){n({type:'count',metric:t,value:o,tags:u})},e.airdogDistribution=function(t,o,u){n({type:'distribution',metric:t,value:o,tags:u})};var t=babelHelpers.interopRequireDefault(r(d[0])),o=r(d[1]);function n(n){var u,c;if('test'===(null===(u=process)||void 0===u||null===(c=u.env)||void 0===c?void 0:c.NODE_ENV))return;const s=[...(0,o.generateTags)(n),'protocol:http'];(0,t.default)(['https:','http:'].includes(window.location.protocol.toLowerCase())?"/tracking/airdog":"https://www.airbnb.com/tracking/airdog",{...n,tags:s})}}),"08b665",["fa3592","79034f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default='00000000-0000-0000-0000-000000000000'}),"15d73f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=babelHelpers.interopRequireDefault(r(d[0]));class t extends s.default{constructor(s,{readyState:t,status:o,statusText:n,getAllResponseHeaders:u,getResponseHeader:p,responseText:h,responseJSON:l}){super(s,'request',{readyState:t,status:o,statusText:n,responseText:h,responseJSON:l}),this.readyState=void 0,this.status=void 0,this.statusText=void 0,this.getAllResponseHeaders=void 0,this.getResponseHeader=void 0,this.responseText=void 0,this.responseJSON=void 0,this.readyState=t,this.status=o,this.statusText=n,this.responseText=h,this.responseJSON=l,this.getAllResponseHeaders=u,this.getResponseHeader=p,this.incrementStackFramesToRemove()}}e.default=t}),"1c286d",["5c1964"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}),"1e52f4",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){return t};const t=[]}),"281200",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);function s(){const t=r(d[1]);return s=function(){return t},t}var o=r(d[2]),n=r(d[3]),u=babelHelpers.interopRequireDefault(r(d[4]));const c=/^(?:GET|HEAD)$/,p=/\?/,h=/([?&])_=[^&]*/,l='application/x-www-form-urlencoded; charset=UTF-8',f={xhrFields:{withCredentials:!0}},y=()=>{},v={'*':'*/*',json:'application/json, text/javascript',text:'text/plain',html:'text/html',xml:'application/xml, text/xml'};function w(t){return p.test(t)?'&':'?'}function x(t,s){return t?s?'include':'same-origin':'omit'}function D(t,s,o,n,c){const{headers:p,status:h,statusText:l}=s;return new u.default(t,{readyState:c,status:h,statusText:l,getAllResponseHeaders(){const t={};return p.forEach((s,o)=>{t[o]=s}),t},getResponseHeader:t=>p.get(t),responseText:o,responseJSON:n})}function b(t){(0,o.logUntypedJitneyEvent)('universal_api_response','com.airbnb.jitney.event.logging.Universal:UniversalApiResponseEvent:3.0.0',t,(0,o.getDefaultContext)()).catch(t=>{var s;['failed to fetch','load failed'].includes(null==t||null===(s=t.message)||void 0===s?void 0:s.toLowerCase())||(0,n.reportError)(t)})}function T(t){const o=s().HttpMethodType[t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()];if(!o)throw new Error('HttpMethodType value was unexpected in getJitneyHttpMethod');return o}class O{constructor(t,s={},o={}){this.abort=void 0,this.promise=void 0,this.request=void 0,this.request=t;const n=new Promise((t,s)=>{this.abort=()=>{s(D('Request was aborted',new Response(null,{status:0,statusText:'abort'}),null,null,0))}}),u=s.apiResponseLoggingCb||y,c=this.request.then(t=>{const n=s.statusCode&&s.statusCode[t.status]||y,c=!1===o.processResponse;return u({res:t}),c&&(t.ok||304===t.status)?(n(t),t):t.text().then(s=>{let o;try{o=JSON.parse(s)}catch(t){o=s}if(t.ok||304===t.status)return n(o),o;const u=D('Request returned an error',t,s,o,4);return n(u),Promise.reject(u)})},t=>{u({rej:t});const s=D('Request failed',new Response,t.message,null,0);return Promise.reject(s)}),p=Promise.race([n,c]);if(o.timeout){const t=new Promise((t,s)=>{var n;setTimeout(()=>{s(new Error(`request timeout after ${o.timeout} ms`))},null!==(n=o.timeout)&&void 0!==n?n:0)});this.promise=Promise.race([t,p])}else this.promise=p;this.promise.then(s.success||y,s.error||y)}success(t){return this.promise.then(t)}error(t){return this.promise.catch(t)}then(t,s){return this.promise.then(t,s)}catch(t){return this.error(t)}done(t){return this.success(t)}fail(t){return this.error(t)}always(t){return this.then(t,t)}}e.default=class{constructor(t={}){this.fetch=void 0,this.userDefaultOptions=void 0;this.fetch=t.fetch||(()=>{throw new Error('`fetch` is not configured, missing property')}),this.userDefaultOptions={...f},this.ajax=this.ajax.bind(this)}configure(t){this.fetch=(t.fetch||this.fetch).bind(g)}setup(t){if(this.userDefaultOptions={...f,...t},t.beforeSend&&'function'!=typeof t.beforeSend)throw new Error('.setup only accepts `beforeSend` as a function')}get(t,s,o,n){return'function'==typeof s&&(n=n||o,o=s,s=void 0),this.ajax({url:t,data:s,dataType:n,success:o})}getJSON(t,s,o){return'function'==typeof s&&(o=s,s=void 0),this.ajax({url:t,dataType:'json',success:o,data:s})}post(t,s,o,n){return'function'==typeof s&&(n=n||o,o=s,s=void 0),this.ajax({url:t,method:'POST',data:s,dataType:n,success:o})}ajax(s,o={}){var n,u,p;'object'==typeof s&&(o=s);const f=('string'==typeof s?s:o.url)||this.userDefaultOptions.url||'',{data:y,error:D,success:_,cache:j=!1!==this.userDefaultOptions.cache,timeout:R,processData:C=!0,processResponse:$=!0}=o;let{contentType:q=!1!==this.userDefaultOptions.contentType&&(this.userDefaultOptions.contentType||l),dataType:E=this.userDefaultOptions.dataType||'*',headers:S=this.userDefaultOptions.headers||{},crossDomain:F=this.userDefaultOptions.crossDomain,xhrFields:H=this.userDefaultOptions.xhrFields}=o;S={...this.userDefaultOptions.headers,...S},E=(function(t){return t.toLowerCase()})(E);const L=(o.method||o.type||'GET').toUpperCase();const P=!c.test(L);let U=f;!P&&y&&'string'!=typeof y&&(U=`${f}${w(f)}${(0,t.stringify)(y,{arrayFormat:'brackets'})}`);const k=this.userDefaultOptions.beforeSend&&this.userDefaultOptions.beforeSend({url:U,type:L,contentType:q,headers:S,crossDomain:F,cache:j,xhrFields:H})||{};if(U=k.url||U,S={...S,...k.headers},F=k.crossDomain||F,H=k.xhrFields||H,q=!1!==k.contentType&&(k.contentType||q),!P&&(y&&'string'==typeof y&&(U=`${f}${w(f)}${y}`),!1===j&&!0!==k.cache)){const t=Date.now()+1;U=h.test(U)?U.replace(h,"$1_="+t):`${U}${w(U)}_=${t}`}const J='*'===E?v['*']:`${v[E]}, ${v['*']}; q=0.01`;let A;return P&&(A=C?'string'==typeof y?y:q&&"application/json"===q.toLowerCase()?JSON.stringify(y):(0,t.stringify)(y,{arrayFormat:'brackets'}):y),new O(this.fetch(U,{method:L,headers:{Accept:J,...S,...F?{}:{'X-Requested-With':'XMLHttpRequest'},...y&&P&&!1!==q?{'Content-Type':q}:{}},credentials:x(null!==(n=null===(u=H)||void 0===u?void 0:u.withCredentials)&&void 0!==n&&n,null!==(p=F)&&void 0!==p&&p),...A?{body:A}:{}}),{statusCode:this.userDefaultOptions.statusCode,success:_,error:D,apiResponseLoggingCb:({res:t,rej:s})=>{const o=t?t.status:0;let n='http://unknown';var u;void 0!==window.location&&(n=null!==(u=window.location.origin)&&void 0!==u?u:n);const{host:c,pathname:p}=new URL(U,n),h=`${n}${p}`;b(void 0===s?{domain_and_path:h,path:p,host:c,http_status_code:o,http_method:T(L)}:{domain_and_path:h,path:p,host:c,http_status_code:o,http_method:T(L),error_code:s.message?s.message:'[unknown]'})}},{processResponse:$,timeout:'number'==typeof R?R:null})}}}),"29ef53",["d2b390","ff983a","b1c8c2","5511db","1c286d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDev=function(){if(null===n){const o=g.document&&g.document.body&&g.document.body.className;n=/\bdevelopment\b/.test(String(o))}return n},e.log=function(...n){if('undefined'==typeof console||!console.log)return;Function.apply.call(console.log,console,n)},e.warn=function(...n){if('undefined'==typeof console||!console.warn)return;Function.apply.call(console.warn,console,n)};let n=null}),"2adc65",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}(0,t.default)('v3',48,u.default)}),"2b67c4",["55c9ca","549de8"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t};var s=function(t){if(!(0,n.default)(t))throw TypeError('Invalid UUID');let s;const l=new Uint8Array(16);return l[0]=(s=parseInt(t.slice(0,8),16))>>>24,l[1]=s>>>16&255,l[2]=s>>>8&255,l[3]=255&s,l[4]=(s=parseInt(t.slice(9,13),16))>>>8,l[5]=255&s,l[6]=(s=parseInt(t.slice(14,18),16))>>>8,l[7]=255&s,l[8]=(s=parseInt(t.slice(19,23),16))>>>8,l[9]=255&s,l[10]=(s=parseInt(t.slice(24,36),16))/1099511627776&255,l[11]=s/4294967296&255,l[12]=s>>>24&255,l[13]=s>>>16&255,l[14]=s>>>8&255,l[15]=255&s,l};e.default=s}),"32b19f",["ed2239"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceWebPageMetricsEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Performance:PerformanceWebPageMetricsEvent:1.0.0',event_name:'performance_web_page_metrics'},propTypes:{}};e.PerformanceWebPageMetricsEvent=n,n.fullyQualifiedName='Performance.v1.PerformanceWebPageMetricsEvent'}),"39b0bd",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalComponentActionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalComponentActionEvent:2.0.0',event_name:'universal_component_action'},propTypes:{}};e.UniversalComponentActionEvent=n,n.fullyQualifiedName='Universal.v2.UniversalComponentActionEvent'}),"3c2344",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={};e.default=void 0;var u=babelHelpers.interopRequireWildcard(r(d[0]));Object.keys(u).forEach((function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(t,l)||l in e&&e[l]===u[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return u[l]}}))}));var l=u.default;e.default=l}),"4cdbd9",["8c0e18"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeMeasurementEvent=void 0;e.NativeMeasurementEvent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Performance:NativeMeasurementEvent:2.0.0',event_name:'native_measurement'},propTypes:{}}}),"51757f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){return 14+(n+64>>>9<<4)+1}function t(n,t){const u=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(u>>16)<<16|65535&u}function u(n,u,o,c,f,l){return t((s=t(t(u,n),t(c,l)))<<(h=f)|s>>>32-h,o);var s,h}function o(n,t,o,c,f,l,s){return u(t&o|~t&c,n,t,f,l,s)}function c(n,t,o,c,f,l,s){return u(t&c|o&~c,n,t,f,l,s)}function f(n,t,o,c,f,l,s){return u(t^o^c,n,t,f,l,s)}function l(n,t,o,c,f,l,s){return u(o^(t|~c),n,t,f,l,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(u){if('string'==typeof u){const n=unescape(encodeURIComponent(u));u=new Uint8Array(n.length);for(let t=0;t<n.length;++t)u[t]=n.charCodeAt(t)}return(function(n){const t=[],u=32*n.length;for(let o=0;o<u;o+=8){const u=n[o>>5]>>>o%32&255,c=parseInt("0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u),16);t.push(c)}return t})((function(u,s){u[s>>5]|=128<<s%32,u[n(s)-1]=s;let h=1732584193,p=-271733879,A=-1732584194,v=271733878;for(let n=0;n<u.length;n+=16){const s=h,y=p,_=A,b=v;h=o(h,p,A,v,u[n],7,-680876936),v=o(v,h,p,A,u[n+1],12,-389564586),A=o(A,v,h,p,u[n+2],17,606105819),p=o(p,A,v,h,u[n+3],22,-1044525330),h=o(h,p,A,v,u[n+4],7,-176418897),v=o(v,h,p,A,u[n+5],12,1200080426),A=o(A,v,h,p,u[n+6],17,-1473231341),p=o(p,A,v,h,u[n+7],22,-45705983),h=o(h,p,A,v,u[n+8],7,1770035416),v=o(v,h,p,A,u[n+9],12,-1958414417),A=o(A,v,h,p,u[n+10],17,-42063),p=o(p,A,v,h,u[n+11],22,-1990404162),h=o(h,p,A,v,u[n+12],7,1804603682),v=o(v,h,p,A,u[n+13],12,-40341101),A=o(A,v,h,p,u[n+14],17,-1502002290),p=o(p,A,v,h,u[n+15],22,1236535329),h=c(h,p,A,v,u[n+1],5,-165796510),v=c(v,h,p,A,u[n+6],9,-1069501632),A=c(A,v,h,p,u[n+11],14,643717713),p=c(p,A,v,h,u[n],20,-373897302),h=c(h,p,A,v,u[n+5],5,-701558691),v=c(v,h,p,A,u[n+10],9,38016083),A=c(A,v,h,p,u[n+15],14,-660478335),p=c(p,A,v,h,u[n+4],20,-405537848),h=c(h,p,A,v,u[n+9],5,568446438),v=c(v,h,p,A,u[n+14],9,-1019803690),A=c(A,v,h,p,u[n+3],14,-187363961),p=c(p,A,v,h,u[n+8],20,1163531501),h=c(h,p,A,v,u[n+13],5,-1444681467),v=c(v,h,p,A,u[n+2],9,-51403784),A=c(A,v,h,p,u[n+7],14,1735328473),p=c(p,A,v,h,u[n+12],20,-1926607734),h=f(h,p,A,v,u[n+5],4,-378558),v=f(v,h,p,A,u[n+8],11,-2022574463),A=f(A,v,h,p,u[n+11],16,1839030562),p=f(p,A,v,h,u[n+14],23,-35309556),h=f(h,p,A,v,u[n+1],4,-1530992060),v=f(v,h,p,A,u[n+4],11,1272893353),A=f(A,v,h,p,u[n+7],16,-155497632),p=f(p,A,v,h,u[n+10],23,-1094730640),h=f(h,p,A,v,u[n+13],4,681279174),v=f(v,h,p,A,u[n],11,-358537222),A=f(A,v,h,p,u[n+3],16,-722521979),p=f(p,A,v,h,u[n+6],23,76029189),h=f(h,p,A,v,u[n+9],4,-640364487),v=f(v,h,p,A,u[n+12],11,-421815835),A=f(A,v,h,p,u[n+15],16,530742520),p=f(p,A,v,h,u[n+2],23,-995338651),h=l(h,p,A,v,u[n],6,-198630844),v=l(v,h,p,A,u[n+7],10,1126891415),A=l(A,v,h,p,u[n+14],15,-1416354905),p=l(p,A,v,h,u[n+5],21,-57434055),h=l(h,p,A,v,u[n+12],6,1700485571),v=l(v,h,p,A,u[n+3],10,-1894986606),A=l(A,v,h,p,u[n+10],15,-1051523),p=l(p,A,v,h,u[n+1],21,-2054922799),h=l(h,p,A,v,u[n+8],6,1873313359),v=l(v,h,p,A,u[n+15],10,-30611744),A=l(A,v,h,p,u[n+6],15,-1560198380),p=l(p,A,v,h,u[n+13],21,1309151649),h=l(h,p,A,v,u[n+4],6,-145523070),v=l(v,h,p,A,u[n+11],10,-1120210379),A=l(A,v,h,p,u[n+2],15,718787259),p=l(p,A,v,h,u[n+9],21,-343485551),h=t(h,s),p=t(p,y),A=t(A,_),v=t(v,b)}return[h,p,A,v]})((function(t){if(0===t.length)return[];const u=8*t.length,o=new Uint32Array(n(u));for(let n=0;n<u;n+=8)o[n>>5]|=(255&t[n/8])<<n%32;return o})(u),8*u.length))};e.default=s}),"549de8",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,o,f){function l(t,l,c,s){var b;if('string'==typeof t&&(t=(function(t){t=unescape(encodeURIComponent(t));const n=[];for(let u=0;u<t.length;++u)n.push(t.charCodeAt(u));return n})(t)),'string'==typeof l&&(l=(0,u.default)(l)),16!==(null===(b=l)||void 0===b?void 0:b.length))throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');let h=new Uint8Array(16+t.length);if(h.set(l),h.set(t,l.length),h=f(h),h[6]=15&h[6]|o,h[8]=63&h[8]|128,c){s=s||0;for(let t=0;t<16;++t)c[s+t]=h[t];return c}return(0,n.unsafeStringify)(h)}try{l.name=t}catch(t){}return l.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",l.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",l};var t,n=r(d[0]),u=(t=r(d[1]))&&t.__esModule?t:{default:t}}),"55c9ca",["5ce7b9","32b19f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unsafeStringify=function(t,o=0){return(n[t[o+0]]+n[t[o+1]]+n[t[o+2]]+n[t[o+3]]+'-'+n[t[o+4]]+n[t[o+5]]+'-'+n[t[o+6]]+n[t[o+7]]+'-'+n[t[o+8]]+n[t[o+9]]+'-'+n[t[o+10]]+n[t[o+11]]+n[t[o+12]]+n[t[o+13]]+n[t[o+14]]+n[t[o+15]]).toLowerCase()};var t;(t=r(d[0]))&&t.__esModule;const n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).slice(1))}),"5ce7b9",["ed2239"]);
__d((function(g,r,i,a,m,e,d){"use strict";var _;(_=r(d[0]))&&_.__esModule}),"62ee56",["ed2239"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new(babelHelpers.interopRequireDefault(r(d[0])).default);e.default=t}),"638d04",["29ef53"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireDefault(r(d[1]));e.default=class{constructor(t={}){this._logger=void 0,this.initialized=void 0,this.initializers=void 0,this.options=void 0,this.options=t,this.initialized=!1,this.initializers=[],t.logger&&this.setLogger(t.logger)}setLogger(t){this._logger=new o.default(t)}getLogger(){if(null==this._logger)throw new Error('[tracking-js] Please provide a logger config, either in the constructor or using `setLogger()`.');return this._logger}init(t={}){this.options=Object.assign(this.options,t),this.initializers.forEach(t=>t(this.options)),this.initialized=!0,this.initializers=[],this.addInitHook(()=>this.getLogger().flushEventQueue())}addInitHook(t){this.initialized?t(this.options):this.initializers.push(t)}setUiRef(o,n){(0,t.default)('uiReferrer',o),n&&(window.location.href=n.getAttribute('href'))}getUiRef(){const o=(0,t.default)('uiReferrer');return o&&(0,t.default)('uiReferrer',null),o}clearContext(){this.getLogger().clearContext()}addContext(t){this.getLogger().addContext(t)}addDefaultContext(){this.getLogger().addDefaultContext()}onPageURIChange(t){this.getLogger().onPageURIChange(t)}airdogBump(t,o,n,s){this.getLogger().airdogBump(t,o,n,s)}logEvent(t){this.getLogger().logEvent(t)}deprecatedLogAirEvent(t){this.getLogger().logEvent(t)}logJitneyEvent(t){this.getLogger().logJitneyEvent(t)}queueEvent(t){this.getLogger().queueEvent(t)}queueJitneyEvent(t){this.getLogger().queueJitneyEvent(t)}setImpressionMetadata(t){this.getLogger().setImpressionMetadata(t)}logDebugEvent(t){this.getLogger().logEphemeralDebugEvent(t)}logUniversalSessionStartEvent(t){return this.getLogger().logUniversalSessionStartEvent(t)}logUniversalSessionStartEventFromServerData({eventDataSchema:t,eventData:o}){return this.getLogger().logUniversalSessionStartEvent({schema:t,event_data:o})}logUniversalSessionEndEvent(t){return this.getLogger().logUniversalSessionEndEvent(t)}}}),"64671f",["be917c","a620ea"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebContext=e.Context=void 0;e.WebContext={defaultProps:{},propTypes:{controller:{},page:{},action:{},rendered_on:{},viewport:{},req_uuid:{},page_uri:{},page_referrer:{},canonical_url:{},shardset:{},local_time:{},queued:{},canonical_host:{},app:{},section_id:{}}};e.Context={defaultProps:{},propTypes:{timestamp:{},source:{},platform:{},user_agent:{},version:{},bev:{},user_id:{},hash_user_id:{},language:{},locale:{},campaign:{},affiliate_id:{},screen_width:{},screen_height:{},web:{},monorail:{},mobile:{},extra_data:{},client_session_id:{},bev_expiry:{},service_context:{},page_name:{},amp_id:{},req_remote_host:{},amp_client_session_id:{},previous_page_name:{},visitor_id:{},impression_uuid:{},api_request_id:{},max_deferred_minutes:{},environment:{},device:{},traffic_type:{},context_api_client_id:{},strictly_necessary_device_id:{}}}}),"659d80",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalComponentImpressionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalComponentImpressionEvent:2.0.0',event_name:'universal_component_impression'},propTypes:{}};e.UniversalComponentImpressionEvent=n,n.fullyQualifiedName='Universal.v2.UniversalComponentImpressionEvent'}),"7055e3",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalPageImpressionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalPageImpressionEvent:1.0.0',event_name:'universal_page_impression'},propTypes:{}};e.UniversalPageImpressionEvent=n,n.fullyQualifiedName='Universal.v1.UniversalPageImpressionEvent'}),"77b59e",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTags=function(o){const n=null!==(s=null===(l=t.default.get('layout-init'))||void 0===l||null===(u=l.tracking_context)||void 0===u?void 0:u.controller)&&void 0!==s?s:'monorail';var s,l,u;let c=[];void 0!==o.tags&&('string'==typeof o.tags?c=o.tags.split(','):Array.isArray(o.tags)?c.push(...o.tags):c.push(...(function(t){const o=[];return Object.keys(t).forEach(n=>{null===t[n]||void 0===t[n]?o.push(`${n}:[${t[n]}]`):o.push(`${n}:${t[n]}`)}),o})(o.tags)));return c.push("loop:"+n,"host:"+(function(){if(window.location&&window.location.host)return window.location.host.replace(':','-');return'unknown'})(),"js_env:browser"),c=c.filter(t=>/^[^:]+:[^:]+/.test(t)),c};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"79034f",["05b07c"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}(0,t.default)('v5',80,u.default)}),"8714f9",["55c9ca","f8f831"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){const o=l.default.parse(window.location.search.slice(1));o.euid&&n.logEvent({event_name:'email_referred_page_load',event_data:{channel:'email',rookery_uuid:o.euid,rookery_link_uuid:o.eluid,url:window.location.href}})};var l=babelHelpers.interopRequireDefault(r(d[0]))}),"8ac3bd",["d2b390"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={};function n(){const t=r(d[0]);return n=function(){return t},t}e.default=void 0;var s=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireWildcard(r(d[2]));Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))}));var u=babelHelpers.interopRequireDefault(r(d[3])),l=r(d[4]);Object.keys(l).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))}));const c=new o.default({logger:{request:function t(o,u=0,{useSendBeacon:l=!1}={}){let c,f=Array.isArray(o)?o:[o];const p=f.filter(t=>t.schema),y=f.filter(t=>!t.schema);if(y.length>0&&p.length>0)return Promise.all([t(y,u,{useSendBeacon:l}),t(p,u,{useSendBeacon:l})]);if(y.length>0)f=y,console.warn('AirEvent has been deprecated, please consider using `logJitneyEvent()` method to report Jitney event.');else{if(!(p.length>0))return Promise.resolve();f=p}if(!f[0].schema)return Promise.resolve();if(c='/tracking/jitney/logging/messages',f=f.map(t=>({...t,uuid:t.uuid||(0,n().v4)()})),l&&window.navigator&&window.navigator.sendBeacon){return window.navigator.sendBeacon(c,JSON.stringify(f))?Promise.resolve():Promise.reject()}return new Promise((n,o)=>{const l=new XMLHttpRequest;l.open('POST',c),l.setRequestHeader('Content-type','application/json'),l.onload=()=>{l.status>=200&&l.status<=204||1223===l.status?n():o(new s.default('Tracking request returned an error status',{status:l.status,statusText:l.statusText,responseText:l.responseText,readyState:l.readyState,responseJSON:null}))},l.onerror=()=>{o(new s.default('Tracking request failed',{status:l.status,statusText:l.statusText,responseText:l.responseText,readyState:l.readyState,responseJSON:null}))},l.timeout=1e4,l.ontimeout=()=>{if(u>=3)o(new Error("Tracking request timed out after 10000ms and 3 retries"));else{const s=u+1;t(f.map(t=>({...t,event_data:{...t.event_data,trackingjs_retry_count:s}})),s).then(n).catch(o)}},l.send(JSON.stringify(f))})}}});c.addInitHook(()=>(0,u.default)(c));var f=c;e.default=f}),"8c0e18",["f2cf32","1c286d","64671f","8ac3bd","a620ea"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(s,{retries:n=1,firstRetryDelayMs:u=1e3}={},f=1){return new Promise((o,l)=>{s().then(o,y=>{if(f>n)return void l(y);setTimeout(()=>{t(s,{retries:n,firstRetryDelayMs:u},f+1).then(o,l)},u*2**(f-1))})})}}),"905118",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),n=f(r(d[1])),u=r(d[2]);function f(t){return t&&t.__esModule?t:{default:t}}var o=function(f,o,l){if(t.default.randomUUID&&!o&&!f)return t.default.randomUUID();const c=(f=f||{}).random||(f.rng||n.default)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,o){l=l||0;for(let t=0;t<16;++t)o[l+t]=c[t];return o}return(0,u.unsafeStringify)(c)};e.default=o}),"9b4f42",["ed20e5","b8c4e4","5ce7b9"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1]));function s(){const t=r(d[2]);return s=function(){return t},t}function o(){const t=r(d[3]);return o=function(){return t},t}function u(){const t=r(d[4]);return u=function(){return t},t}function l(){const t=r(d[5]);return l=function(){return t},t}function c(){const t=r(d[6]);return c=function(){return t},t}function h(){const t=r(d[7]);return h=function(){return t},t}function v(){const t=r(d[8]);return v=function(){return t},t}function p(){const t=r(d[9]);return p=function(){return t},t}var _=babelHelpers.interopRequireDefault(r(d[10]));function f(){const t=r(d[11]);return f=function(){return t},t}var E=babelHelpers.interopRequireDefault(r(d[12])),b=babelHelpers.interopRequireWildcard(r(d[13])),C=r(d[14]),y=r(d[15]),S=r(d[16]),w=babelHelpers.interopRequireDefault(r(d[17])),I=babelHelpers.interopRequireDefault(r(d[18]));const k='tracking_event_queue',q=[s().UniversalComponentActionEvent,o().UniversalComponentImpressionEvent,u().UniversalPageImpressionEvent,c().NativeMeasurementEvent,l().PerformanceWebPageMetricsEvent,p().UniversalPageResolutionEvent,h().UniversalSessionStartEvent];function D(t,n=t.length){return t.splice(0,n)}let x=null;function A(t){if(!t.event_name)throw new Error('event_name is a required key for logEvent')}function Q(t){return'string'==typeof t?t:t.fullyQualifiedName||'unknown'}function T(t){return'string'==typeof t?t:JSON.stringify(t)}function U(t){return q.some(n=>n.defaultProps.schema===t.schema)&&t.event_data.event_data_schema?{...t,event_data:{...t.event_data,event_data:T(t.event_data.event_data),event_data_schema:Q(t.event_data.event_data_schema)}}:t}function L(){return(!!_.default.types.sessionStorage&&_.default.sessionStorage(y.ANCESTOR_TAB_SESSION_STORAGE_KEY)||[]).map(t=>({web_tab_uuid:t.id,timestamp_ms:t.timestamp}))}e.default=class{constructor(t={}){var n;if(this.autoBatchLogEvents=void 0,this.batchedIdleTimeoutId=void 0,this.bootstrappedPageEventData=void 0,this.debounceLogEvents=void 0,this.hasAddedFlushQueueEventHandlers=void 0,this.isFlushingEventQueue=void 0,this.isUnloading=void 0,this.logContext=void 0,this.pageEventData=void 0,this.pageEventDataSchema=void 0,this.pageImpressionUuid=void 0,this.pageURIChangeCallbacks=void 0,this.queuedEvents=[],this.awaitingQueueCall=!1,this.request=void 0,this.sendTrackingRequestDebounced=void 0,this.stringifiedPageEventData=void 0,this.BATCH_SIZE_LIMIT=void 0,this.cancelPageChangeSubscription=void 0,this.handleFlushOnUnload=()=>{this.isUnloading=!0,this.flushEventQueue({useSendBeacon:!0})},this.handleFlushOnVisibilityChange=()=>{'visible'===document.visibilityState?this.isUnloading=!1:this.isUnloading=!0,this.flushEventQueue({useSendBeacon:!0})},this.logContext={},'function'!=typeof t.request)throw new Error('[tracking-js] EventLogger requires a `request` option to be passed in that is a function');this.request=t.request,this.setupTrackingDebounce(),this.debounceLogEvents=!!t.debounceLogEvents,this.autoBatchLogEvents=null===(n=t.autoBatchLogEvents)||void 0===n||n,this.scheduleFlushQueue=this.scheduleFlushQueue.bind(this),this.flushEventQueue=this.flushEventQueue.bind(this),this.shouldAutoQueueEvent=this.shouldAutoQueueEvent.bind(this),this.closeAllActiveSessions=this.closeAllActiveSessions.bind(this),this.pageURIChangeCallbacks=[],this.BATCH_SIZE_LIMIT=95e3,this.isUnloading=!1,this.batchedIdleTimeoutId=0,this.hasAddedFlushQueueEventHandlers=!1,this.pageEventDataSchema=null,this.pageEventData={},this.bootstrappedPageEventData={},this.stringifiedPageEventData='',window.addEventListener&&window.addEventListener('beforeunload',this.closeAllActiveSessions,{once:!0})}setupTrackingDebounce(){let t=[];const n=(function(t){let n;return(...s)=>{null!==n&&g.cancelIdleCallback(n),n=g.requestIdleCallback(()=>{n=null,t(...s)})}})(n=>{const s=n.map(t=>t.data),o=n.map(t=>t.callback);t=[],this.sendTrackingRequest(s,(t,n)=>{o.filter(Boolean).forEach(s=>s(t,n))})});this.sendTrackingRequestDebounced=(s,o)=>{if(o&&'function'!=typeof o)throw new Error('Callback provided was not of type function');t=[...t,{data:s,callback:o}],n(t)}}clearContext(){this.logContext={}}addContext(t){let n=t;n&&0===n.user_id&&(n={...n,user_id:null}),Object.assign(this.logContext,n)}addDefaultContext(){this.updateDynamicContext();const{af:s=null,c:o=null}=n.default.parse(window.location.search.slice(1)),u=s||(0,E.default)('affiliate'),l=o||(0,E.default)('campaign');u&&this.addContext({affiliate:u}),l&&this.addContext({campaign:l}),this.maybeAddCookie('bev'),this.maybeAddCookie('bev','visitor_id');const c=t.default.locale();c&&this.addContext({locale:c,language:c.split('-')[0]})}onPageURIChange(t){this.pageURIChangeCallbacks.push(t);let n=!0;return()=>{if(!n)return;n=!1;const s=this.pageURIChangeCallbacks.indexOf(t);this.pageURIChangeCallbacks.splice(s,1)}}updateDynamicContext(){if(!document.location)return;let t=!1;this.logContext.page_uri!==document.location.pathname&&(x=this.logContext.page_uri,t=null!=x),this.addContext({page_uri:document.location.pathname,page_referrer:x||document.referrer}),t&&this.pageURIChangeCallbacks.forEach(t=>t())}shouldAutoQueueEvent(){return this.autoBatchLogEvents&&!this.isUnloading}logEvent(t){if((this.shouldAutoQueueEvent()||t.queue)&&!t.log_immediately)return void this.queueEvent(t);A(t);const n=this.formatEventData(t);!1!==t.debounce&&(t.debounce||this.debounceLogEvents)?this.sendTrackingRequestDebounced(n,t.callback):this.sendTrackingRequest(n,t.callback,{useSendBeacon:!!t.use_send_beacon})}async scheduleFlushQueue(){this.batchedIdleTimeoutId=g.requestIdleCallback(this.flushEventQueue,{timeout:5e3}),this.addFlushQueueEventHandlers()}addFlushQueueEventHandlers(){this.hasAddedFlushQueueEventHandlers||(this.hasAddedFlushQueueEventHandlers=!0,window.addEventListener('unload',this.handleFlushOnUnload),document.addEventListener('visibilitychange',this.handleFlushOnVisibilityChange),this.cancelPageChangeSubscription=this.onPageURIChange(this.scheduleFlushQueue))}removeFlushQueueEventHandlers(){var t;this.hasAddedFlushQueueEventHandlers&&(this.hasAddedFlushQueueEventHandlers=!1,window.removeEventListener&&(window.removeEventListener('unload',this.handleFlushOnUnload),document.removeEventListener&&document.removeEventListener('visibilitychange',this.handleFlushOnVisibilityChange),null===(t=this.cancelPageChangeSubscription)||void 0===t||t.call(this),this.cancelPageChangeSubscription=void 0))}async queueEvent(t){A(t);const n=this.formatEventData(t);if(this.queuedEvents.push(n),this.autoBatchLogEvents&&this.addFlushQueueEventHandlers(),!this.awaitingQueueCall){this.awaitingQueueCall=!0;try{return await C.scheduler.postTask(()=>{const t=D(this.queuedEvents);this.storeQueueSync(...t)},{priority:'user-visible',delay:10})}catch(t){(0,C.exceptAbortError)()(t)}finally{this.awaitingQueueCall=!1}}}storeQueueSync(...t){try{const n=[...(0,_.default)(k)||[],...t];(0,_.default)(k,n,{expires:6e4})}catch(t){(0,S.warn)("Could not add event to queue: "+t)}this.autoBatchLogEvents&&this.scheduleFlushQueue()}logJitneyEvent({callback:t,event_data:n,log_immediately:s=!1,queue:o,schema:u,use_send_beacon:l,include_active_sessions:c}){if(!u||!u.defaultProps||!u.defaultProps.schema)throw new TypeError('Need to pass schema object from airbnb-jitney-schemas');const h=u.defaultProps.schema;("Ephemeral.v1.EphemeralDebugEvent"!==u.fullyQualifiedName||(function({debug_event_name:t,owner_email_address:n,stop_publishing_ds:s}={}){if(!n||'OMITTED_IN_JS'!==n)return console.error(`invalid owner email address ${n} for ${t}, please use the Tracking.logDebugEvent method to emit a debug event.`),!1;const o=new Date(s);return s&&s.match(/\d{4}-\d{2}-\d{2}/)&&!Number.isNaN(o)?!(o<new Date)||(console.error(`expired ephemeral debug event ${t} no longer being emitted, please remove the producer code!`),!1):(console.error(`invalid stop publishing date ${s} for ${t}, must be a valid date in the format YYYY-mm-DD. Please make this a static value. Do not do something like current date + 1 month :(`),!1)})(n))&&this.logEvent({event_name:"jitney_"+u.defaultProps.event_name,post_process:t=>{const l=(0,I.default)(t,u,n);let v;if(l.schema=h,void 0!==window.navigator&&(l.event_data.context.user_agent=window.navigator.userAgent),(0,b.shouldAddAppLoggingContext)(u)&&(l.event_data.app_logging_context=b.default.getAppLoggingContext(u,this.logContext.page_name,c)),q.some(t=>t.fullyQualifiedName===u.fullyQualifiedName)){const{event_data:t,event_data_schema:n,...c}=l.event_data,{event_data:p,event_data_schema:_,...f}=u.propTypes;v=(0,w.default)(f,c);const E=t&&Object.keys(t).length;if(E>0&&!n)v=[`Error: Cannot supply event_data to ${h} without an event_data_schema`,...v];else if(n){'string'!=typeof n&&(v=[...(0,w.default)(n.propTypes,{...n.defaultProps,...t}),...v]);const u=(o||this.shouldAutoQueueEvent())&&!s;0!==v.length||u||(l.event_data.event_data=T(t),l.event_data.event_data_schema=Q(n))}else 0===E&&(l.event_data.event_data=void 0)}else v=(0,w.default)(u.propTypes,l.event_data);if(v.length>0){'undefined'!=typeof console&&console.error&&v.forEach(t=>console.error(t)),this.airdogBump('di.jitney.logging.invalid_event',1,["schema:"+h]);const t="com.airbnb.jitney.event.logging.Malformed:MalformedEvent:1.0.0";let n=l.event_data&&l.event_data.context||this.logContext;return n={source:'unknown',...n},{schema:t,event_data:{schema:t,event_schema:h,event_json:JSON.stringify(l.event_data),errors:v.map(t=>String(t)),context:n}}}return l},callback:(n,s)=>{n||(this.airdogBump('di.jitney.logging.tracking_error',1,["schema:"+h]),this.logEvent({event_name:'jitney_tracking_error',event_data:{schema_name:h,status:null==s?void 0:s.status,responseText:null==s?void 0:s.responseText,timeout:null==s?void 0:s.timeout}})),null==t||t()},debounce:!1,log_immediately:s,queue:o,use_send_beacon:l})}queueJitneyEvent({schema:t,event_data:n}){this.logJitneyEvent({schema:t,event_data:n,queue:!0})}logEphemeralDebugEvent({debugEventName:t,debugEventData:n,stopPublishingDate:s,queue:o}){}breakEventsIntoBatches(t){const n=[];let s=0,o=[];return t.forEach(t=>{const u=JSON.stringify(t).length;u>this.BATCH_SIZE_LIMIT?n.push([t]):u+s>this.BATCH_SIZE_LIMIT?(o.length>0&&n.push(o),o=[t],s=u):(o.push(t),s+=u)}),o.length>0&&n.push(o),n}async flushEventQueue({useSendBeacon:t=!1}={}){try{this.batchedIdleTimeoutId&&('cancelIdleCallback'in g&&g.cancelIdleCallback(this.batchedIdleTimeoutId),this.batchedIdleTimeoutId=0);const{isFlushingEventQueue:n}=this;if(n&&!t)return;let s=(0,_.default)(k)||[];if(!s.length&&!this.queuedEvents.length)return;const o=D(this.queuedEvents);s=[...s,...o];const u=s.map(t=>({...t,event_data:this.addContextToQueuedEvent(U(t).event_data)}));this.breakEventsIntoBatches(u).forEach(n=>{this.sendTrackingRequest(n,null,{useSendBeacon:t})}),(0,_.default)(k,null)}catch(t){(0,S.warn)("Could not flush event queue: "+t)}finally{this.removeFlushQueueEventHandlers()}this.isFlushingEventQueue=!1}formatEventData(t){this.updateDynamicContext();const n={event_name:t.event_name,event_data:{...this.logContext,timestamp:Date.now(),...t.event_data},trackingjs_logging_version:"0.2"};return t.post_process?t.post_process(n):n}addContextToQueuedEvent(t){return null!=t&&t.schema?{...t,context:{...t.context,web:{...t.context.web,queued:!0}}}:{...t,trackingjs_queued:!0,trackingjs_queued_context:this.logContext}}async sendTrackingRequest(t,n,{useSendBeacon:s=!1}={}){const o=s||this.isUnloading;try{const s=await this.request(t,0,{useSendBeacon:o});return n&&n(!0),s}catch(s){!(function(t){(0,S.warn)(`Failed to log event (event=${t.event_name})`)})(t),n&&n(!1,s)}(0,S.isDev)()&&(0,_.default)('log-in-dev')&&((0,S.log)('--- Tracking.logEvent ---'),(0,S.log)(t))}maybeAddCookie(t,n){const s=(0,E.default)(t);s&&this.addContext({[n||t]:s})}airdogBump(t,n,s,o){const u={};o&&'object'==typeof o&&(u.debounce=o.debounce,u.queue=o.queue),'boolean'==typeof o&&(u.queue=o);const l={...u,event_name:'airdog_bump',event_data:{datadog_key:t,queue:u.queue}};n&&(l.event_data.datadog_count=n),s&&('object'!=typeof s||Array.isArray(s)?l.event_data.datadog_tags=s:l.event_data.datadog_tags=Object.entries(s).map(([t,n])=>`${t}:${n}`).join(',')),this.logEvent(l)}setImpressionMetadata({eventDataSchema:t,initialEventData:n={},impressionUuid:s}={}){this.pageEventDataSchema=t,this.pageImpressionUuid=s,this.pageEventData=n}logUniversalSessionStartEvent({schema:t,event_data:n={}}){const s=(0,f().v4)(),o={event_data_schema:t,event_data:n,app_logging_context:b.default.getAppLoggingContext(),web_ancestor_tabs:L(),uuid:s};return this.logJitneyEvent({schema:h().UniversalSessionStartEvent,event_data:o}),b.default.addSession({uuid:s,eventDataSchema:Q(t),eventData:T(n)}),s}logUniversalSessionEndEvent({sessionId:t,sessionOutcome:n,sessionData:s,useSendBeacon:o}){if(!t)throw new TypeError('Need to pass a sessionId');const u=b.default.getSession(t);if(!u)return!1;const l={event_data_schema:u.event_data_schema,event_data:u.event_data,session_outcome:n,app_logging_context:b.default.getAppLoggingContext(),web_ancestor_tabs:L(),uuid:u.uuid,...s||{}};return this.logJitneyEvent({schema:v().UniversalSessionEndEvent,event_data:l,use_send_beacon:o}),b.default.removeSession(t),!0}closeAllActiveSessions(){const t=[...b.default.getAppLoggingContext().active_sessions];t.reverse(),t.forEach(t=>{this.logUniversalSessionEndEvent({sessionId:t.uuid,useSendBeacon:!0})}),window.removeEventListener&&window.removeEventListener('beforeunload',this.closeAllActiveSessions)}}}),"a620ea",["6898d5","d2b390","3c2344","7055e3","77b59e","39b0bd","51757f","d81498","e6ecf0","be7972","be917c","f2cf32","e480b8","f983b1","cc3672","d56f8f","2adc65","281200","ce1868"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultContext=function(){let n,u,c,v,s,_,f,p,b,k,w,x,y,h,j,q,D;{var O,H,R,C,J,P,S,T,A,E,M,N;const U=t.default.get('layout-init'),z=(0,o.default)('frmfctr');n=(null==U||null===(O=U.tracking_context)||void 0===O?void 0:O.source)||'browser',u=z?z+"-web":'unknown-web',c=(null===(H=window.navigator)||void 0===H?void 0:H.userAgent)||'unknown',v=null==U||null===(R=U.tracking_context)||void 0===R?void 0:R.version,s=null!==(C=(0,o.default)('bev'))&&void 0!==C?C:void 0,_=null===l.default||void 0===l.default||null===(J=l.default.current())||void 0===J?void 0:J.id,f=null==U?void 0:U.language,p=null==U?void 0:U.locale,b=null!==(P=(0,o.default)('jitney_client_session_id'))&&void 0!==P?P:void 0,k=null==U||null===(S=U.tracking_context)||void 0===S?void 0:S.environment,w=null==U||null===(T=U.tracking_context)||void 0===T?void 0:T.controller,x=null==U||null===(A=U.tracking_context)||void 0===A?void 0:A.action,y=null==U||null===(E=U.tracking_context)||void 0===E?void 0:E.req_uuid,h=document.referrer,j=null==U||null===(M=U.tracking_context)||void 0===M?void 0:M.shardset,q=null==U?void 0:U.canonical_host,D=null==U||null===(N=U.tracking_context)||void 0===N?void 0:N.app}const U={timestamp:Date.now(),source:n,platform:u,user_agent:c},z={controller:w,action:x,req_uuid:y,page_referrer:h,shardset:j,canonical_host:q,app:D};return{...U,version:v,bev:s,user_id:_,language:f,locale:p,...z&&Object.values(z).some(n=>!(void 0===n))?{web:z}:{},client_session_id:b,environment:k}},e.logUntypedJitneyEvent=async function(n,t,o,l,c={}){var v;return window.fetch(null!==(v=c.url)&&void 0!==v?v:'/tracking/jitney/logging/messages',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify([u(n,t,o,l)])})};var t=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireDefault(r(d[2])),l=babelHelpers.interopRequireDefault(r(d[3]));function u(t,o,l,u){return{trackingjs_logging_version:'0.8.0',uuid:(0,n().v4)(),event_name:t,schema:o,event_data:{...l,event_name:t,schema:o,context:u}}}}),"b1c8c2",["f2cf32","05b07c","e480b8","c1939d"]);
__d((function(g,r,i,a,m,e,d){"use strict";let t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!t&&(t='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return t(o)};const o=new Uint8Array(16)}),"b8c4e4",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalPageResolutionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalPageResolutionEvent:1.0.0',event_name:'universal_page_resolution'},propTypes:{}};e.UniversalPageResolutionEvent=n,n.fullyQualifiedName='Universal.v1.UniversalPageResolutionEvent'}),"be7972",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(t,n){return n.reduce((n,o)=>(n[o]=t[o],n),{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,c,u){const s=o.event_data,{dimensions:f}=s,{height:h,width:_}=f||{height:-1,width:-1};return s.affiliate_id=s.affiliate,{...o,event_data:{context:{...n(s,Object.keys(t().Context.propTypes)),web:n(s,Object.keys(t().WebContext.propTypes)),screen_height:h,screen_width:_},...c.defaultProps,...u}}}}),"ce1868",["659d80"]);
__d((function(g,r,i,a,m,e,d){"use strict";var _;(_=r(d[0]))&&_.__esModule,r(d[1])}),"d4d7d1",["b8c4e4","5ce7b9"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tabTimestampLocalStorageKey=e.ancestorTabLocalStorageKey=e.TIMESTAMP_SESSION_STORAGE_KEY=e.TAB_ID_SESSION_STORAGE_KEY=e.LOCK_SESSION_STORAGE_KEY=e.ANCESTOR_TAB_SESSION_STORAGE_KEY=void 0;e.ancestorTabLocalStorageKey=S=>"tab-tracking-v2-ancestorTabs-"+S;e.tabTimestampLocalStorageKey=S=>"tab-tracking-v2-tabTimestamp-"+S;e.TAB_ID_SESSION_STORAGE_KEY="tab-tracking-v2-tabId";e.ANCESTOR_TAB_SESSION_STORAGE_KEY="tab-tracking-v2-ancestorTabs";e.TIMESTAMP_SESSION_STORAGE_KEY="tab-tracking-v2-timestamp";e.LOCK_SESSION_STORAGE_KEY="tab-tracking-v2-lockSessionStorage"}),"d56f8f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalSessionStartEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalSessionStartEvent:1.0.0',event_name:'universal_session_start'},propTypes:{}};e.UniversalSessionStartEvent=n,n.fullyQualifiedName='Universal.v1.UniversalSessionStartEvent'}),"d81498",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalSessionEndEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalSessionEndEvent:1.0.0',event_name:'universal_session_end'},propTypes:{}};e.UniversalSessionEndEvent=n,n.fullyQualifiedName='Universal.v1.UniversalSessionEndEvent'}),"e6ecf0",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={randomUUID:'undefined'!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};e.default=o}),"ed20e5",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,u=(t=r(d[0]))&&t.__esModule?t:{default:t};var f=function(t){return'string'==typeof t&&u.default.test(t)};e.default=f}),"ed2239",["1e52f4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserInitialized=function(){return t},e.setIsBrowserInitialized=function(n){t=n};let t=!1}),"f191ca",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return l.default}});var t=y(r(d[0])),n=y(r(d[1])),u=y(r(d[2])),f=y(r(d[3])),o=y(r(d[4])),l=y(r(d[5])),c=y(r(d[6])),b=y(r(d[7])),p=y(r(d[8]));function y(t){return t&&t.__esModule?t:{default:t}}}),"f2cf32",["d4d7d1","2b67c4","9b4f42","8714f9","15d73f","62ee56","ed2239","5ce7b9","32b19f"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t,n,o,c){switch(t){case 0:return n&o^~n&c;case 1:return n^o^c;case 2:return n&o^n&c^o&c;case 3:return n^o^c}}function n(t,n){return t<<n|t>>>32-n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(o){const c=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof o){const t=unescape(encodeURIComponent(o));o=[];for(let n=0;n<t.length;++n)o.push(t.charCodeAt(n))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const s=o.length/4+2,f=Math.ceil(s/16),u=new Array(f);for(let t=0;t<f;++t){const n=new Uint32Array(16);for(let c=0;c<16;++c)n[c]=o[64*t+4*c]<<24|o[64*t+4*c+1]<<16|o[64*t+4*c+2]<<8|o[64*t+4*c+3];u[t]=n}u[f-1][14]=8*(o.length-1)/Math.pow(2,32),u[f-1][14]=Math.floor(u[f-1][14]),u[f-1][15]=8*(o.length-1)&4294967295;for(let o=0;o<f;++o){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=u[o][t];for(let t=16;t<80;++t)s[t]=n(s[t-3]^s[t-8]^s[t-14]^s[t-16],1);let f=l[0],h=l[1],p=l[2],y=l[3],A=l[4];for(let o=0;o<80;++o){const l=Math.floor(o/20),u=n(f,5)+t(l,h,p,y)+A+c[l]+s[o]>>>0;A=y,y=p,p=n(h,30)>>>0,h=f,f=u}l[0]=l[0]+f>>>0,l[1]=l[1]+h>>>0,l[2]=l[2]+p>>>0,l[3]=l[3]+y>>>0,l[4]=l[4]+A>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};e.default=o}),"f8f831",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}function t(){const n=r(d[1]);return t=function(){return n},n}function s(){const n=r(d[2]);return s=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.shouldAddAppLoggingContext=function(o){return[s().UniversalComponentActionEvent,t().UniversalPageImpressionEvent,n().UniversalComponentImpressionEvent].some(n=>n.fullyQualifiedName===o.fullyQualifiedName)};const o=[3e3,3003,1e3,2e3,4003,4011];var u=new class{constructor(){this.appLoggingContext=void 0,this.appLoggingContext={active_sessions:[]}}getAppLoggingContext(n,t,s){const u={...this.appLoggingContext,active_sessions:[...this.appLoggingContext.active_sessions]};return s||"Universal.v2.UniversalComponentImpressionEvent"===(null==n?void 0:n.fullyQualifiedName)&&t&&!o.includes(t)&&(u.active_sessions=[]),u}addSession({uuid:n,eventDataSchema:t,eventData:s}){this.appLoggingContext.active_sessions.push({uuid:n,event_data_schema:t,event_data:s})}getSession(n){return this.appLoggingContext.active_sessions.find(t=>t.uuid===n)}removeSession(n){this.appLoggingContext.active_sessions=this.appLoggingContext.active_sessions.filter(({uuid:t})=>t!==n)}addTabInfo(n,t){this.appLoggingContext.web_tab_uuid=n,this.appLoggingContext.web_ancestor_tabs=t}reset(){this.appLoggingContext={active_sessions:[]}}};e.default=u}),"f983b1",["7055e3","77b59e","3c2344"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,s=5e3){(0,l.isBrowserInitialized)()||(window.addEventListener('visibilitychange',()=>{'hidden'===document.visibilityState&&f()},!0),'object'==typeof window.safari&&window.safari.pushNotification&&window.addEventListener('beforeunload',()=>{f()},!0),(0,l.setIsBrowserInitialized)(!0));if(c.has(t)){const s=c.get(t);void 0!==s?s.push(n):(0,o.reportError)(new Error("sendTrackingRequest RequestPayload was undefined for url: "+t))}else c.set(t,[n]);u||(u=window.requestIdleCallback(f,{timeout:s}))};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),o=r(d[2]),s=babelHelpers.interopRequireDefault(r(d[3])),l=r(d[4]);let u=0;const c=new Map;function f(){u=0,c&&(c.forEach((l,u)=>{!(function(l,u){if(window.navigator&&window.navigator.sendBeacon)try{if(window.navigator.sendBeacon(l,JSON.stringify(u)))return Promise.resolve()}catch(t){const n=t instanceof Error?t:new Error(String(t.message||t));(0,o.reportError)(n,{originalError:n!==t?t:void 0,sampleRate:.1})}(0,n.default)(()=>t.default.ajax(l,{type:'POST',contentType:'application/json',data:u}).then(t=>{if(t.status<200||t.status>204)throw new Error("sendTrackingRequest returned via fejax, status code "+t.status)},t=>{throw new s.default('sendTrackingRequest failed to log via fejax, error','error',{originalError:{name:t.name,message:t.message,stack:t.stack,...t instanceof s.default?{[t.section]:t.metadata}:{}}})}),{retries:4}).catch(o.reportError)})(u,l)}),c.clear())}}),"fa3592",["638d04","905118","5511db","5c1964","f191ca"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpMethodType=void 0;e.HttpMethodType={Options:1,Get:2,Head:3,Post:4,Put:5,Patch:6,Delete:7,Trace:8,Connect:9}}),"ff983a",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/cee6.6719131793.js.map